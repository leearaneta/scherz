["^ ","~:output",["^ ","~:js","goog.provide('scherz.brightness');\nscherz.brightness.valid_direction_QMARK_ = (function scherz$brightness$valid_direction_QMARK_(direction){\nreturn ((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(direction,new cljs.core.Keyword(null,\"asc\",\"asc\",356854569))) || (cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(direction,new cljs.core.Keyword(null,\"desc\",\"desc\",2093485764))));\n});\n/**\n * Sharpens or flattens a pitch based on direction.\n */\nscherz.brightness.shift_pitch = (function scherz$brightness$shift_pitch(direction,pitch){\n\nvar pop_string = (function (s){\nreturn cljs.core.subs.cljs$core$IFn$_invoke$arity$3(s,(0),(cljs.core.count(s) - (1)));\n});\nvar to_remove = ((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(direction,new cljs.core.Keyword(null,\"asc\",\"asc\",356854569)))?\"b\":\"#\");\nvar to_add = ((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(direction,new cljs.core.Keyword(null,\"asc\",\"asc\",356854569)))?\"#\":\"b\");\nif(clojure.string.ends_with_QMARK_(pitch,to_remove)){\nreturn pop_string(pitch);\n} else {\nreturn [cljs.core.str.cljs$core$IFn$_invoke$arity$1(pitch),to_add].join('');\n}\n});\nscherz.brightness.base_circle = new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [\"F\",\"C\",\"G\",\"D\",\"A\",\"E\",\"B\"], null);\nscherz.brightness.pitch_indexes = cljs.core.reduce_kv((function (acc,index,pitch){\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(acc,cljs.core.PersistentArrayMap.createAsIfByAssoc([pitch,index]));\n}),cljs.core.PersistentArrayMap.EMPTY,scherz.brightness.base_circle);\n/**\n * Creates an infinite sequence of fifths (ascending or descending).\n */\nscherz.brightness.fifths = (function scherz$brightness$fifths(var_args){\nvar G__7765 = arguments.length;\nswitch (G__7765) {\ncase 1:\nreturn scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\nscherz.brightness.fifths.cljs$core$IFn$_invoke$arity$1 = (function (note){\nreturn scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$2(note,new cljs.core.Keyword(null,\"asc\",\"asc\",356854569));\n});\n\nscherz.brightness.fifths.cljs$core$IFn$_invoke$arity$2 = (function (note,direction){\n\nvar index_fn = ((cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2(direction,new cljs.core.Keyword(null,\"asc\",\"asc\",356854569)))?cljs.core.inc:cljs.core.dec);\nvar note_fn = cljs.core.partial.cljs$core$IFn$_invoke$arity$2(scherz.brightness.shift_pitch,direction);\nvar new_index = (function (){var G__7767 = (function (){var G__7768 = cljs.core.first(note);\nreturn (scherz.brightness.pitch_indexes.cljs$core$IFn$_invoke$arity$1 ? scherz.brightness.pitch_indexes.cljs$core$IFn$_invoke$arity$1(G__7768) : scherz.brightness.pitch_indexes.call(null,G__7768));\n})();\nreturn (index_fn.cljs$core$IFn$_invoke$arity$1 ? index_fn.cljs$core$IFn$_invoke$arity$1(G__7767) : index_fn.call(null,G__7767));\n})();\nvar new_note = (function (){var G__7770 = [cljs.core.str.cljs$core$IFn$_invoke$arity$1((function (){var G__7772 = cljs.core.mod(new_index,(7));\nreturn (scherz.brightness.base_circle.cljs$core$IFn$_invoke$arity$1 ? scherz.brightness.base_circle.cljs$core$IFn$_invoke$arity$1(G__7772) : scherz.brightness.base_circle.call(null,G__7772));\n})()),cljs.core.str.cljs$core$IFn$_invoke$arity$1(cljs.core.subs.cljs$core$IFn$_invoke$arity$2(note,(1)))].join('');\nvar fexpr__7769 = ((function (G__7770,index_fn,note_fn,new_index){\nreturn (function (p1__7762_SHARP_){\nif(((((0) <= new_index)) && ((new_index <= (6))))){\nreturn p1__7762_SHARP_;\n} else {\nreturn (note_fn.cljs$core$IFn$_invoke$arity$1 ? note_fn.cljs$core$IFn$_invoke$arity$1(p1__7762_SHARP_) : note_fn.call(null,p1__7762_SHARP_));\n}\n});})(G__7770,index_fn,note_fn,new_index))\n;\nreturn fexpr__7769(G__7770);\n})();\nreturn (new cljs.core.LazySeq(null,((function (index_fn,note_fn,new_index,new_note){\nreturn (function (){\nreturn cljs.core.cons(note,scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$2(new_note,direction));\n});})(index_fn,note_fn,new_index,new_note))\n,null,null));\n});\n\nscherz.brightness.fifths.cljs$lang$maxFixedArity = 2;\n\n/**\n * Assigns each note in a scale a level of brightness based on its position in the\n *   circle of fifths relative to the root, and adds them all up.  The tritone can be\n *   -6 or 6, and is inferred based on the brightness of the rest of the scale.\n */\nscherz.brightness.scale_brightness = (function scherz$brightness$scale_brightness(scale){\nvar cumulative_intervals = cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(cljs.core._PLUS_,(scherz.util.scale_intervals.cljs$core$IFn$_invoke$arity$1 ? scherz.util.scale_intervals.cljs$core$IFn$_invoke$arity$1(scale) : scherz.util.scale_intervals.call(null,scale)));\nvar note_ct = cljs.core.count(cumulative_intervals);\nvar interval_brightness = new cljs.core.PersistentVector(null, 13, 5, cljs.core.PersistentVector.EMPTY_NODE, [(0),(-5),(2),(-3),(4),(-1),(0),(1),(-4),(3),(-2),(5),(0)], null);\nvar scale_brightness = scherz.util.avg(cljs.core.map.cljs$core$IFn$_invoke$arity$2(interval_brightness,cumulative_intervals));\nif(cljs.core.truth_(cljs.core.some(((function (cumulative_intervals,note_ct,interval_brightness,scale_brightness){\nreturn (function (p1__7773_SHARP_){\nreturn cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2((6),p1__7773_SHARP_);\n});})(cumulative_intervals,note_ct,interval_brightness,scale_brightness))\n,cumulative_intervals))){\nif((scale_brightness > (0))){\nreturn (scale_brightness + ((6) / note_ct));\n} else {\nreturn (scale_brightness - ((6) / note_ct));\n}\n} else {\nreturn scale_brightness;\n}\n});\n/**\n * Generates a circle of fifths given a tonic and a scale.\n *   If the scale is bright the tritone is placed above the root, otherwise below.\n */\nscherz.brightness.circle_of_fifths = (function scherz$brightness$circle_of_fifths(var_args){\nvar G__7775 = arguments.length;\nswitch (G__7775) {\ncase 1:\nreturn scherz.brightness.circle_of_fifths.cljs$core$IFn$_invoke$arity$1((arguments[(0)]));\n\nbreak;\ncase 2:\nreturn scherz.brightness.circle_of_fifths.cljs$core$IFn$_invoke$arity$2((arguments[(0)]),(arguments[(1)]));\n\nbreak;\ndefault:\nthrow (new Error([\"Invalid arity: \",cljs.core.str.cljs$core$IFn$_invoke$arity$1(arguments.length)].join('')));\n\n}\n});\n\nscherz.brightness.circle_of_fifths.cljs$core$IFn$_invoke$arity$1 = (function (tonic){\nreturn scherz.brightness.circle_of_fifths.cljs$core$IFn$_invoke$arity$2(tonic,new cljs.core.Keyword(null,\"major\",\"major\",-27376078));\n});\n\nscherz.brightness.circle_of_fifths.cljs$core$IFn$_invoke$arity$2 = (function (tonic,scale){\nvar bright_QMARK_ = (scherz.brightness.scale_brightness(scale) > (0));\nvar upper_arc = cljs.core.take.cljs$core$IFn$_invoke$arity$2(((bright_QMARK_)?(6):(5)),cljs.core.drop.cljs$core$IFn$_invoke$arity$2((1),scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$1(tonic)));\nvar lower_arc = cljs.core.take.cljs$core$IFn$_invoke$arity$2(((bright_QMARK_)?(6):(7)),scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$2(tonic,new cljs.core.Keyword(null,\"desc\",\"desc\",2093485764)));\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(upper_arc,lower_arc);\n});\n\nscherz.brightness.circle_of_fifths.cljs$lang$maxFixedArity = 2;\n\n/**\n * Returns all pitches in a scale based on the circle of fifths.\n *   (pitch-scale :C :locrian) -> [:C :Db :Eb :F :Gb :Ab :Bb]\n */\nscherz.brightness.pitch_scale = (function scherz$brightness$pitch_scale(tonic,scale){\nvar circle = cljs.core.vec(scherz.brightness.circle_of_fifths.cljs$core$IFn$_invoke$arity$2(tonic,scale));\nvar root_index = circle.indexOf(tonic);\nvar intervals = (scherz.util.scale_intervals.cljs$core$IFn$_invoke$arity$1 ? scherz.util.scale_intervals.cljs$core$IFn$_invoke$arity$1(scale) : scherz.util.scale_intervals.call(null,scale));\nreturn cljs.core.into.cljs$core$IFn$_invoke$arity$2(new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [tonic], null),cljs.core.pop(cljs.core.mapv.cljs$core$IFn$_invoke$arity$2(circle,cljs.core.map.cljs$core$IFn$_invoke$arity$2(((function (circle,root_index,intervals){\nreturn (function (p1__7776_SHARP_){\nreturn cljs.core.mod(((p1__7776_SHARP_ * (7)) + root_index),(12));\n});})(circle,root_index,intervals))\n,cljs.core.reductions.cljs$core$IFn$_invoke$arity$2(cljs.core._PLUS_,intervals)))));\n});\n/**\n * (pitch-chord :C :major [0 2 4] 2) -> (:D :F :A)\n */\nscherz.brightness.pitch_chord = (function scherz$brightness$pitch_chord(tonic,scale,chord_shape,degree){\nvar G__7780 = cljs.core.take.cljs$core$IFn$_invoke$arity$2((cljs.core.last(chord_shape) + (1)),cljs.core.drop.cljs$core$IFn$_invoke$arity$2((degree - (1)),cljs.core.cycle(scherz.brightness.pitch_scale(tonic,scale))));\nvar fexpr__7779 = ((function (G__7780){\nreturn (function (p1__7777_SHARP_){\nreturn cljs.core.map.cljs$core$IFn$_invoke$arity$2(cljs.core.vec(p1__7777_SHARP_),chord_shape);\n});})(G__7780))\n;\nreturn fexpr__7779(G__7780);\n});\n/**\n * Measures a pitch's brightness based on its position in the circle of fifths.\n *   More useful as a relative measure - arbitrarily F has a brightness of 0.\n */\nscherz.brightness.pitch_brightness = (function scherz$brightness$pitch_brightness(pitch){\nvar counts = cljs.core.frequencies(pitch);\nreturn ((scherz.brightness.base_circle.indexOf(cljs.core.first(pitch)) + ((7) * cljs.core.get.cljs$core$IFn$_invoke$arity$3(counts,\"#\",(0)))) + ((-7) * cljs.core.get.cljs$core$IFn$_invoke$arity$3(counts,\"b\",(0))));\n});\n/**\n * Computes how much more 'colorful' chords are in relation to each other.\n * \n *   The C Major triad's brightest note is E and the G major triad's brightest is B. \n *   B is one level brighter than E in the circle of fifths, so\n *   '(:G :B :E) adds one unit of color to '(:C :E :G).\n */\nscherz.brightness.chord_color = (function scherz$brightness$chord_color(source_pitches,target_pitches){\nvar chord_brightness = (function (pitches){\nreturn cljs.core.map.cljs$core$IFn$_invoke$arity$2(scherz.brightness.pitch_brightness,pitches);\n});\nvar brightest_note = ((function (chord_brightness){\nreturn (function (pitches){\nreturn cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.max,chord_brightness(pitches));\n});})(chord_brightness))\n;\nvar darkest_note = ((function (chord_brightness,brightest_note){\nreturn (function (pitches){\nreturn cljs.core.apply.cljs$core$IFn$_invoke$arity$2(cljs.core.min,chord_brightness(pitches));\n});})(chord_brightness,brightest_note))\n;\nvar brightness_difference = (brightest_note(target_pitches) - brightest_note(source_pitches));\nvar darkness_difference = (darkest_note(source_pitches) - darkest_note(target_pitches));\nreturn ((function (){var x__4219__auto__ = brightness_difference;\nvar y__4220__auto__ = (0);\nreturn ((x__4219__auto__ > y__4220__auto__) ? x__4219__auto__ : y__4220__auto__);\n})() + (function (){var x__4219__auto__ = darkness_difference;\nvar y__4220__auto__ = (0);\nreturn ((x__4219__auto__ > y__4220__auto__) ? x__4219__auto__ : y__4220__auto__);\n})());\n});\nscherz.brightness.fifths_above = (function scherz$brightness$fifths_above(n,root){\nreturn cljs.core.first(cljs.core.drop.cljs$core$IFn$_invoke$arity$2(scherz.util.abs(n),scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$2(root,(((n > (0)))?new cljs.core.Keyword(null,\"asc\",\"asc\",356854569):new cljs.core.Keyword(null,\"desc\",\"desc\",2093485764)))));\n});\n","~:ns-info",["^ ","~:rename-macros",null,"~:renames",["^ "],"~:meta",["^ ","~:file","scherz/brightness.cljc","~:line",1,"~:column",5,"~:end-line",1,"~:end-column",22],"~:ns-aliases",["^ ","~$cljs.loader","~$shadow.loader"],"~:use-macros",null,"~:excludes",["~#set",[]],"~:name","~$scherz.brightness","~:op","~:ns","~:imports",null,"~:requires",["^ ","~$clojure.string","^G","~$scherz.util","^H","~$cljs.core","^I","~$goog","^J"],"~:seen",["^@",["~:require"]],"~:uses",["^ ","~$ends-with?","^G","~$abs","^H","~$avg","^H","~$scale-intervals","^H","~$floor","^H"],"~:require-macros",["^ ","^I","^I"],"~:form",["~#list",["~$ns","^B",["^U",["^L",["^G","~:refer",["^N"]]]],["^U",["^L",["^H","^W",["^O","^P","^Q","^R"]]]]]],"~:flags",["^ ","^L",["^@",[]]],"~:js-deps",["^ "],"~:deps",["^J","^I","^G","^H"]],"^D","^B","~:resource-id",["~:shadow.build.classpath/resource","scherz/brightness.cljc"],"~:compiled-at",1566598998472,"~:resource-name","scherz/brightness.cljc","~:warnings",[],"~:source","(ns scherz.brightness\n  (:require [clojure.string :refer [ends-with?]])\n  (:require [scherz.util :refer [abs avg scale-intervals floor]]))\n\n(defn valid-direction? [direction]\n  (or (= direction :asc) (= direction :desc)))\n\n(defn- shift-pitch\n  \"Sharpens or flattens a pitch based on direction.\"\n  ([direction pitch]\n   {:pre [(valid-direction? direction)]}   \n   (let [pop-string (fn [s] (subs s 0 (- (count s) 1)))\n         to-remove (if (= direction :asc) \"b\" \"#\")\n         to-add (if (= direction :asc) \"#\" \"b\")]\n     (if (ends-with? pitch to-remove)\n       (pop-string pitch)\n       (str pitch to-add)))))\n\n(def base-circle [\\F \\C \\G \\D \\A \\E \\B])\n\n(def pitch-indexes\n  (reduce-kv (fn [acc index pitch] (into acc {pitch index}))\n             {} base-circle))\n\n(defn fifths\n  \"Creates an infinite sequence of fifths (ascending or descending).\"\n  ([note] (fifths note :asc))\n  ([note direction]\n   {:pre [(valid-direction? direction)]}   \n   (let [index-fn (if (= direction :asc) inc dec)\n         note-fn (partial shift-pitch direction)\n         new-index (index-fn (pitch-indexes (first note)))\n         new-note (-> (mod new-index 7) base-circle (str (subs note 1))\n                      (#(if (<= 0 new-index 6) % (note-fn %))))]\n     (lazy-seq (cons note (fifths new-note direction))))))\n\n(defn scale-brightness\n  \"Assigns each note in a scale a level of brightness based on its position in the\n  circle of fifths relative to the root, and adds them all up.  The tritone can be\n  -6 or 6, and is inferred based on the brightness of the rest of the scale.\"\n  [scale]\n  (let [cumulative-intervals (reductions + (scale-intervals scale))\n        note-ct (count cumulative-intervals)\n        interval-brightness [0 -5 2 -3 4 -1 0 1 -4 3 -2 5 0]\n        scale-brightness (avg (map interval-brightness\n                                   cumulative-intervals))]\n    (if (some #(= 6 %) cumulative-intervals)\n      (if (pos? scale-brightness)\n        (+ scale-brightness (/ 6 note-ct))\n        (- scale-brightness (/ 6 note-ct)))\n      scale-brightness)))\n\n(defn circle-of-fifths\n  \"Generates a circle of fifths given a tonic and a scale.\n  If the scale is bright the tritone is placed above the root, otherwise below.\"\n  ([tonic] (circle-of-fifths tonic :major))\n  ([tonic scale]\n   (let [bright? (pos? (scale-brightness scale))\n         upper-arc (take (if bright? 6 5)\n                         (drop 1 (fifths tonic)))\n         lower-arc (take (if bright? 6 7)\n                         (fifths tonic :desc))]\n     (into upper-arc lower-arc))))\n\n(defn pitch-scale\n  \"Returns all pitches in a scale based on the circle of fifths.\n  (pitch-scale :C :locrian) -> [:C :Db :Eb :F :Gb :Ab :Bb]\"\n  [tonic scale]\n  (let [circle (vec (circle-of-fifths tonic scale))\n        root-index (.indexOf circle tonic)\n        intervals (scale-intervals scale)]\n    (->> intervals\n         (reductions +)\n         (map #(-> % (* 7) (+ root-index) (mod 12)))\n         (mapv circle)\n         pop\n         (into [tonic]))))\n\n(defn pitch-chord\n  \"(pitch-chord :C :major [0 2 4] 2) -> (:D :F :A)\"\n  [tonic scale chord-shape degree]\n  (->> (pitch-scale tonic scale)\n       cycle\n       (drop (dec degree))\n       (take (inc (last chord-shape)))\n       (#(map (vec %) chord-shape))))\n\n(defn pitch-brightness\n  \"Measures a pitch's brightness based on its position in the circle of fifths.\n  More useful as a relative measure - arbitrarily F has a brightness of 0.\"\n  [pitch]\n  (let [counts (frequencies pitch)]\n    (+ (.indexOf base-circle (first pitch))\n       (* 7 (get counts \\# 0))\n       (* -7 (get counts \\b 0)))))\n\n(defn chord-color\n  \"Computes how much more 'colorful' chords are in relation to each other.\n\n  The C Major triad's brightest note is E and the G major triad's brightest is B. \n  B is one level brighter than E in the circle of fifths, so\n  '(:G :B :E) adds one unit of color to '(:C :E :G).\"\n  [source-pitches target-pitches]\n  (let [chord-brightness (fn [pitches]\n                           (map pitch-brightness pitches))\n        brightest-note (fn [pitches]\n                         (apply max (chord-brightness pitches)))\n        darkest-note (fn [pitches]\n                       (apply min (chord-brightness pitches)))\n        brightness-difference (- (brightest-note target-pitches)\n                                 (brightest-note source-pitches))\n        darkness-difference (- (darkest-note source-pitches)\n                               (darkest-note target-pitches))]\n    (+ (max brightness-difference 0)\n       (max darkness-difference 0))))\n\n(defn fifths-above\n  [n root]\n  (->> (if (pos? n) :asc :desc)\n       (fifths root)\n       (drop (abs n))\n       first))\n","~:reader-features",["^@",["~:cljs"]],"~:cljc",true,"~:source-map-compact",["^ ","mappings","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","names",["scherz.brightness/valid-direction?","direction","cljs.core._EQ_.cljs$core$IFn$_invoke$arity$2","scherz.brightness/shift-pitch","pitch","pop-string","s","cljs.core.subs.cljs$core$IFn$_invoke$arity$3","cljs.core/count","to-remove","to-add","clojure.string/ends-with?","scherz.brightness/base-circle","scherz.brightness/pitch-indexes","cljs.core/reduce-kv","acc","index","cljs.core.into.cljs$core$IFn$_invoke$arity$2","var_args","G__7765","scherz.brightness/fifths","js/Error","note","scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$2","index-fn","cljs.core/inc","cljs.core/dec","note-fn","cljs.core.partial.cljs$core$IFn$_invoke$arity$2","new-index","G__7767","G__7768","cljs.core/first","new-note","cljs.core/mod","G__7772","cljs.core.subs.cljs$core$IFn$_invoke$arity$2","G__7770","fexpr__7769","p1__7762#","cljs.core/LazySeq","cljs.core/cons","scherz.brightness/scale-brightness","scale","cumulative-intervals","cljs.core.reductions.cljs$core$IFn$_invoke$arity$2","cljs.core/+","scherz.util/scale-intervals","note-ct","interval-brightness","scale-brightness","scherz.util/avg","cljs.core.map.cljs$core$IFn$_invoke$arity$2","p1__7773#","cljs.core/some","G__7775","scherz.brightness/circle-of-fifths","tonic","scherz.brightness.circle_of_fifths.cljs$core$IFn$_invoke$arity$2","bright?","upper-arc","cljs.core.take.cljs$core$IFn$_invoke$arity$2","cljs.core.drop.cljs$core$IFn$_invoke$arity$2","scherz.brightness.fifths.cljs$core$IFn$_invoke$arity$1","lower-arc","scherz.brightness/pitch-scale","circle","cljs.core/vec","root-index","intervals","p1__7776#","cljs.core.mapv.cljs$core$IFn$_invoke$arity$2","cljs.core/pop","scherz.brightness/pitch-chord","chord-shape","degree","cljs.core/cycle","cljs.core/last","G__7780","fexpr__7779","p1__7777#","scherz.brightness/pitch-brightness","counts","cljs.core/frequencies","cljs.core.get.cljs$core$IFn$_invoke$arity$3","scherz.brightness/chord-color","source-pitches","target-pitches","chord-brightness","pitches","brightest-note","cljs.core.apply.cljs$core$IFn$_invoke$arity$2","cljs.core/max","darkest-note","cljs.core/min","brightness-difference","darkness-difference","x__4219__auto__","y__4220__auto__","scherz.brightness/fifths-above","n","root","scherz.util/abs"]]],"~:cache-keys",["~#cmap",[["^10","goog/math/math.js"],[1565449510000,"~:shadow.build.compiler/resolve",["^ ","~:require-id",null,"~:deps-ids",["^@",[]],"~:deps-syms",["^J","~$goog.array","~$goog.asserts"]]],["^10","goog/array/array.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^1B"]]],["^10","goog/debug/error.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],["^10","goog/dom/nodetype.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],["^10","goog/object/object.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],"~:SHADOW-TIMESTAMP",[1565449511000,1565449509000],["^10","goog/math/long.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^1B","~$goog.reflect"]]],["^10","goog/string/internal.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],["^10","goog/functions/functions.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],["^10","goog/structs/map.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","~$goog.iter.Iterator","~$goog.iter.StopIteration"]]],["^10","goog/asserts/asserts.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","~$goog.debug.Error","~$goog.dom.NodeType"]]],["^10","goog/uri/uri.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^1A","^1B","~$goog.string","~$goog.structs","~$goog.structs.Map","~$goog.uri.utils","~$goog.uri.utils.ComponentIndex","~$goog.uri.utils.StandardQueryParam"]]],["^10","goog/base.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",[]]],["^10","goog/structs/structs.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^1A","~$goog.object"]]],["^10","clojure/string.cljs"],[1565449509000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^I","^1I","~$goog.string.StringBuffer"]]],["^10","goog/string/string.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","~$goog.string.internal"]]],["^10","goog/reflect/reflect.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],["^10","goog/string/stringbuffer.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],["^10","goog/iter/iter.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^1A","^1B","~$goog.functions","~$goog.math"]]],["^10","scherz/brightness.cljc"],[1566597668000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^I","^G","^H"]]],["^10","cljs/core.cljs"],[1565449509000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["~$goog.math.Long","~$goog.math.Integer","^1I","^1O","^1A","~$goog.Uri","^1P"]]],["^10","goog/math/integer.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J"]]],["^10","goog/uri/utils.js"],[1565449510000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^1A","^1B","^1I"]]],["^10","scherz/util.cljc"],[1566527536000,"^1=",["^ ","^1>",null,"^1?",["^@",[]],"^1@",["^J","^I"]]]]],"~:clj-info",["^ ","jar:file:/Users/mochi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/string.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/env.cljc",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/source_map/base64.clj",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/compiler.cljc",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/reader_types.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/util.cljc",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/js_deps.cljc",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/java/io.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/analyzer.cljc",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/set.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/inspect.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/impl/errors.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/tagged_literals.cljc",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/source_map.clj",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/edn.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/pprint.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/externs.clj",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/source_map/base64_vlq.clj",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/instant.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojure/1.10.1/clojure-1.10.1.jar!/clojure/core.clj",1565449508000,"jar:file:/Users/mochi/.m2/repository/org/clojure/clojurescript/1.10.520/clojurescript-1.10.520.jar!/cljs/core.cljc",1565449509000,"jar:file:/Users/mochi/.m2/repository/org/clojure/data.json/0.2.6/data.json-0.2.6.jar!/clojure/data/json.clj",1565033122000,"jar:file:/Users/mochi/.m2/repository/org/clojure/tools.reader/1.3.2/tools.reader-1.3.2.jar!/clojure/tools/reader/default_data_readers.clj",1565449508000],"~:analyzer",["^ ","^3",null,"^4",["^ "],"^5",["^ ","^6","scherz/brightness.cljc","^7",1,"^8",5,"^9",1,"^:",22],"^;",["^ ","^<","^="],"^>",null,"^?",["^@",[]],"^A","^B","^E",null,"^F",["^ ","^G","^G","^H","^H","^I","^I","^J","^J"],"^K",["^@",["^L"]],"~:shadow/js-access-global",["^@",["Error"]],"^M",["^ ","^N","^G","^O","^H","^P","^H","^Q","^H","^R","^H"],"~:defs",["^ ","~$pitch-brightness",["^ ","~:protocol-inline",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",88,"^8",7,"^9",88,"^:",23,"~:arglists",["^U",["~$quote",["^U",[["~$pitch"]]]]],"~:doc","Measures a pitch's brightness based on its position in the circle of fifths.\n  More useful as a relative measure - arbitrarily F has a brightness of 0."],"^A","~$scherz.brightness/pitch-brightness","^6","scherz/brightness.cljc","^:",23,"~:method-params",["^U",[["^2K"]]],"~:protocol-impl",null,"~:arglists-meta",["^U",[null,null]],"^8",1,"~:variadic?",false,"^7",88,"~:ret-tag","~$number","^9",88,"~:max-fixed-arity",1,"~:fn-var",true,"^2I",["^U",["^2J",["^U",[["^2K"]]]]],"^2L","Measures a pitch's brightness based on its position in the circle of fifths.\n  More useful as a relative measure - arbitrarily F has a brightness of 0."],"~$fifths-above",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",117,"^8",7,"^9",117,"^:",19,"^2I",["^U",["^2J",["^U",[["~$n","~$root"]]]]]],"^A","~$scherz.brightness/fifths-above","^6","scherz/brightness.cljc","^:",19,"^2N",["^U",[["~$n","^2W"]]],"^2O",null,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^7",117,"^2R",["^@",["~$any","~$clj-nil"]],"^9",117,"^2T",2,"^2U",true,"^2I",["^U",["^2J",["^U",[["~$n","^2W"]]]]]],"~$pitch-scale",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",65,"^8",7,"^9",65,"^:",18,"^2I",["^U",["^2J",["^U",[["~$tonic","~$scale"]]]]],"^2L","Returns all pitches in a scale based on the circle of fifths.\n  (pitch-scale :C :locrian) -> [:C :Db :Eb :F :Gb :Ab :Bb]"],"^A","~$scherz.brightness/pitch-scale","^6","scherz/brightness.cljc","^:",18,"^2N",["^U",[["^30","^31"]]],"^2O",null,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^7",65,"^2R",["^@",[null,"~$clj","^2Y"]],"^9",65,"^2T",2,"^2U",true,"^2I",["^U",["^2J",["^U",[["^30","^31"]]]]],"^2L","Returns all pitches in a scale based on the circle of fifths.\n  (pitch-scale :C :locrian) -> [:C :Db :Eb :F :Gb :Ab :Bb]"],"~$pitch-chord",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",79,"^8",7,"^9",79,"^:",18,"^2I",["^U",["^2J",["^U",[["^30","^31","~$chord-shape","~$degree"]]]]],"^2L","(pitch-chord :C :major [0 2 4] 2) -> (:D :F :A)"],"^A","~$scherz.brightness/pitch-chord","^6","scherz/brightness.cljc","^:",18,"^2N",["^U",[["^30","^31","^35","^36"]]],"^2O",null,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^7",79,"^2R","~$cljs.core/LazySeq","^9",79,"^2T",4,"^2U",true,"^2I",["^U",["^2J",["^U",[["^30","^31","^35","^36"]]]]],"^2L","(pitch-chord :C :major [0 2 4] 2) -> (:D :F :A)"],"~$fifths",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",25,"^8",7,"^9",25,"^:",13,"^2I",["^U",["^2J",["^U",[["~$note"],["^3:","~$direction"]]]]],"^2L","Creates an infinite sequence of fifths (ascending or descending).","~:top-fn",["^ ","^2Q",false,"~:fixed-arity",2,"^2T",2,"^2N",["^U",[["^3:"],["^3:","^3;"]]],"^2I",["^U",[["^3:"],["^3:","^3;"]]],"^2P",["^U",[null,null]]]],"^A","~$scherz.brightness/fifths","^6","scherz/brightness.cljc","^:",13,"^3<",["^ ","^2Q",false,"^3=",2,"^2T",2,"^2N",["^U",[["^3:"],["^3:","^3;"]]],"^2I",["^U",[["^3:"],["^3:","^3;"]]],"^2P",["^U",[null,null]]],"^2N",["^U",[["^3:"],["^3:","^3;"]]],"^2O",null,"^3=",2,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"~:methods",[["^ ","^3=",1,"^2Q",false,"~:tag","^2Y"],["^ ","^3=",2,"^2Q",false,"^3@","^38"]],"^7",25,"^9",25,"^2T",2,"^2U",true,"^2I",["^U",[["^3:"],["^3:","^3;"]]],"^2L","Creates an infinite sequence of fifths (ascending or descending)."],"~$chord-color",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",97,"^8",7,"^9",97,"^:",18,"^2I",["^U",["^2J",["^U",[["~$source-pitches","~$target-pitches"]]]]],"^2L","Computes how much more 'colorful' chords are in relation to each other.\n\n  The C Major triad's brightest note is E and the G major triad's brightest is B. \n  B is one level brighter than E in the circle of fifths, so\n  '(:G :B :E) adds one unit of color to '(:C :E :G)."],"^A","~$scherz.brightness/chord-color","^6","scherz/brightness.cljc","^:",18,"^2N",["^U",[["^3B","^3C"]]],"^2O",null,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^7",97,"^2R","^2S","^9",97,"^2T",2,"^2U",true,"^2I",["^U",["^2J",["^U",[["^3B","^3C"]]]]],"^2L","Computes how much more 'colorful' chords are in relation to each other.\n\n  The C Major triad's brightest note is E and the G major triad's brightest is B. \n  B is one level brighter than E in the circle of fifths, so\n  '(:G :B :E) adds one unit of color to '(:C :E :G)."],"~$base-circle",["^ ","^A","~$scherz.brightness/base-circle","^6","scherz/brightness.cljc","^7",19,"^8",1,"^9",19,"^:",17,"^5",["^ ","^6","scherz/brightness.cljc","^7",19,"^8",6,"^9",19,"^:",17],"^3@","~$cljs.core/IVector"],"~$pitch-indexes",["^ ","^A","~$scherz.brightness/pitch-indexes","^6","scherz/brightness.cljc","^7",21,"^8",1,"^9",21,"^:",19,"^5",["^ ","^6","scherz/brightness.cljc","^7",21,"^8",6,"^9",21,"^:",19],"^3@",["^@",[null,"^2Y"]]],"~$scale-brightness",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",37,"^8",7,"^9",37,"^:",23,"^2I",["^U",["^2J",["^U",[["^31"]]]]],"^2L","Assigns each note in a scale a level of brightness based on its position in the\n  circle of fifths relative to the root, and adds them all up.  The tritone can be\n  -6 or 6, and is inferred based on the brightness of the rest of the scale."],"^A","~$scherz.brightness/scale-brightness","^6","scherz/brightness.cljc","^:",23,"^2N",["^U",[["^31"]]],"^2O",null,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^7",37,"^2R",["^@",["^2S","^2Z"]],"^9",37,"^2T",1,"^2U",true,"^2I",["^U",["^2J",["^U",[["^31"]]]]],"^2L","Assigns each note in a scale a level of brightness based on its position in the\n  circle of fifths relative to the root, and adds them all up.  The tritone can be\n  -6 or 6, and is inferred based on the brightness of the rest of the scale."],"~$shift-pitch",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",8,"^8",8,"^9",8,"^:",19,"~:private",true,"^2I",["^U",["^2J",["^U",[["^3;","^2K"]]]]],"^2L","Sharpens or flattens a pitch based on direction."],"^3M",true,"^A","~$scherz.brightness/shift-pitch","^6","scherz/brightness.cljc","^:",19,"^2N",["^U",[["^3;","^2K"]]],"^2O",null,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^7",8,"^2R",["^@",["^2Y","~$string"]],"^9",8,"^2T",2,"^2U",true,"^2I",["^U",["^2J",["^U",[["^3;","^2K"]]]]],"^2L","Sharpens or flattens a pitch based on direction."],"~$circle-of-fifths",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",53,"^8",7,"^9",53,"^:",23,"^2I",["^U",["^2J",["^U",[["^30"],["^30","^31"]]]]],"^2L","Generates a circle of fifths given a tonic and a scale.\n  If the scale is bright the tritone is placed above the root, otherwise below.","^3<",["^ ","^2Q",false,"^3=",2,"^2T",2,"^2N",["^U",[["^30"],["^30","^31"]]],"^2I",["^U",[["^30"],["^30","^31"]]],"^2P",["^U",[null,null]]]],"^A","~$scherz.brightness/circle-of-fifths","^6","scherz/brightness.cljc","^:",23,"^3<",["^ ","^2Q",false,"^3=",2,"^2T",2,"^2N",["^U",[["^30"],["^30","^31"]]],"^2I",["^U",[["^30"],["^30","^31"]]],"^2P",["^U",[null,null]]],"^2N",["^U",[["^30"],["^30","^31"]]],"^2O",null,"^3=",2,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^3?",[["^ ","^3=",1,"^2Q",false,"^3@","^2Y"],["^ ","^3=",2,"^2Q",false,"^3@",["^@",[null,"^33","^2Y"]]]],"^7",53,"^9",53,"^2T",2,"^2U",true,"^2I",["^U",[["^30"],["^30","^31"]]],"^2L","Generates a circle of fifths given a tonic and a scale.\n  If the scale is bright the tritone is placed above the root, otherwise below."],"~$valid-direction?",["^ ","^2H",null,"^5",["^ ","^6","scherz/brightness.cljc","^7",5,"^8",7,"^9",5,"^:",23,"^2I",["^U",["^2J",["^U",[["^3;"]]]]]],"^A","~$scherz.brightness/valid-direction?","^6","scherz/brightness.cljc","^:",23,"^2N",["^U",[["^3;"]]],"^2O",null,"^2P",["^U",[null,null]],"^8",1,"^2Q",false,"^7",5,"^2R","~$boolean","^9",5,"^2T",1,"^2U",true,"^2I",["^U",["^2J",["^U",[["^3;"]]]]]]],"^S",["^ ","^I","^I"],"~:cljs.analyzer/constants",["^ ","^K",["^@",["~:desc","~:asc","~:major"]],"~:order",["^3W","^3V","^3X"]],"^X",["^ ","^L",["^@",[]]],"^Y",["^ "],"^Z",["^J","^I","^G","^H"]],"^D","^B","~:ns-specs",["^ "],"~:ns-speced-vars",[],"~:compiler-options",["^1<",[["^40","~:static-fns"],true,["^40","~:elide-asserts"],true,["^40","~:optimize-constants"],null,["^40","^13"],null,["^40","~:external-config"],null,["^40","~:tooling-config"],null,["^40","~:emit-constants"],null,["^40","~:load-tests"],false,["^40","~:infer-externs"],true,["^40","^15"],null,["~:js-options","~:js-provider"],"^L",["~:mode"],"~:release",["^40","~:fn-invoke-direct"],null,["^40","~:source-map"],null]]]